=render_menu

-main_title 'Availability'

=render 'availabilities/partials/time_menu'

.availability-calendar
  .header
    .header__day.day-col Day
    .header__time.time-col Selected Time
    .header__stat.stat-col
      %i.fi-checkbox

  .body
    -7.times do |i|
      -date = @current_date + i
      -date_db = date.to_formatted_s(:date)
      .day
        .day_date.day-col
          =date.strftime("%a")
          %br
          =date.to_formatted_s(:short)
        .day__time.time-col 21:00 - 00:00
        .day__stat.stat-col icon
      .select-time
        =render partial: 'availabilities/partials/select_time', locals: { prefix: :from }
        =render partial: 'availabilities/partials/select_time', locals: { prefix: :to }

        .availability-switch
          -id = "avail-switch-#{date_db}"
          =hidden_field_tag(:available_date,
            date_db,
            id: "available-date-#{date_db}",
            name: 'available_dates[]',
            class: 'available-date',
            disabled: 'disabled')

          %input.switch-input{id: id, :name => id, type: :checkbox }
            %label.switch-paddle.switcher{for: id, data: {enabled: false.to_s}}
              %span.switch-active{"aria-hidden" => "true"} Yes
              %span.switch-inactive{"aria-hidden" => "true"} No